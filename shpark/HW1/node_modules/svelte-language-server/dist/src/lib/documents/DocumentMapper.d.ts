import { Position, Range, TextEdit, Location, CompletionItem, Hover, Diagnostic, ColorInformation, ColorPresentation, SymbolInformation, LocationLink, TextDocumentEdit, CodeAction } from 'vscode-languageserver';
import { TagInformation } from './utils';
import { SourceMapConsumer } from 'source-map';
export interface DocumentMapper {
    /**
     * Map the generated position to the original position
     * @param generatedPosition Position in fragment
     */
    getOriginalPosition(generatedPosition: Position): Position;
    /**
     * Map the original position to the generated position
     * @param originalPosition Position in parent
     */
    getGeneratedPosition(originalPosition: Position): Position;
    /**
     * Returns true if the given original position is inside of the generated map
     * @param pos Position in original
     */
    isInGenerated(pos: Position): boolean;
    /**
     * Get document URL
     */
    getURL(): string;
    /**
     * Implement this if you need teardown logic before this mapper gets cleaned up.
     */
    destroy?(): void;
}
/**
 * Does not map, returns positions as is.
 */
export declare class IdentityMapper implements DocumentMapper {
    private url;
    constructor(url: string);
    getOriginalPosition(generatedPosition: Position): Position;
    getGeneratedPosition(originalPosition: Position): Position;
    isInGenerated(): boolean;
    getURL(): string;
}
/**
 * Maps positions in a fragment relative to a parent.
 */
export declare class FragmentMapper implements DocumentMapper {
    private originalText;
    private tagInfo;
    private url;
    constructor(originalText: string, tagInfo: TagInformation, url: string);
    getOriginalPosition(generatedPosition: Position): Position;
    private offsetInParent;
    getGeneratedPosition(originalPosition: Position): Position;
    isInGenerated(pos: Position): boolean;
    getURL(): string;
}
export declare class SourceMapDocumentMapper implements DocumentMapper {
    protected consumer: SourceMapConsumer;
    protected sourceUri: string;
    constructor(consumer: SourceMapConsumer, sourceUri: string);
    getOriginalPosition(generatedPosition: Position): Position;
    getGeneratedPosition(originalPosition: Position): Position;
    isInGenerated(position: Position): boolean;
    getURL(): string;
    /**
     * Needs to be called when source mapper is no longer needed in order to prevent memory leaks.
     */
    destroy(): void;
}
export declare function mapRangeToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, range: Range): Range;
export declare function mapRangeToGenerated(fragment: DocumentMapper, range: Range): Range;
export declare function mapTextEditToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, edit: TextEdit): TextEdit;
export declare function mapLocationToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, loc: Location): Location;
export declare function mapCompletionItemToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, item: CompletionItem): CompletionItem;
export declare function mapHoverToParent(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, hover: Hover): Hover;
export declare function mapDiagnosticToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, diagnostic: Diagnostic): Diagnostic;
export declare function mapDiagnosticToGenerated(fragment: DocumentMapper, diagnostic: Diagnostic): Diagnostic;
export declare function mapColorInformationToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, info: ColorInformation): ColorInformation;
export declare function mapColorPresentationToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, presentation: ColorPresentation): ColorPresentation;
export declare function mapSymbolInformationToOriginal(fragment: Pick<DocumentMapper, 'getOriginalPosition'>, info: SymbolInformation): SymbolInformation;
export declare function mapLocationLinkToOriginal(fragment: DocumentMapper, def: LocationLink): LocationLink;
export declare function mapTextDocumentEditToOriginal(fragment: DocumentMapper, edit: TextDocumentEdit): TextDocumentEdit;
export declare function mapCodeActionToOriginal(fragment: DocumentMapper, codeAction: CodeAction): CodeAction;
