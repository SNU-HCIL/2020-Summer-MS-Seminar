"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(a,b,c,d){d===void 0&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){d===void 0&&(d=c),a[d]=b[c]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a["default"]=b}),__importStar=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!=c&&Object.hasOwnProperty.call(a,c)&&__createBinding(b,a,c);return __setModuleDefault(b,a),b};Object.defineProperty(exports,"__esModule",{value:!0});const parseFile_1=require("../modules/parseFile"),concat_1=require("../modules/concat");exports.default=a=>({async style(b){const{default:c}=await Promise.resolve().then(()=>__importStar(require("../transformers/stylus"))),{content:d,filename:e,attributes:f,lang:g,dependencies:h}=await parseFile_1.parseFile(b,"css");if("stylus"!==g)return{code:d};const i=await c({content:d,filename:e,attributes:f,options:a});return{...i,dependencies:concat_1.concat(h,i.dependencies)}}});