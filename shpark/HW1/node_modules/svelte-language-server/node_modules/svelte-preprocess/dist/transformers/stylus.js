"use strict";var __importDefault=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__importDefault(require("path")),stylus_1=__importDefault(require("stylus")),getIncludePaths_1=require("../modules/getIncludePaths"),transformer=({content:a,filename:b,options:c={}})=>(c={paths:getIncludePaths_1.getIncludePaths(b,c.paths),...c},new Promise((d,e)=>{const f=stylus_1.default(a,{filename:b,...c}).set("sourcemap",c.sourcemap);f.render((a,c)=>{a&&e(a),d({code:c,map:f.sourcemap,dependencies:f.deps(b).map(a=>path_1.default.resolve(a))})})}));exports.default=transformer;