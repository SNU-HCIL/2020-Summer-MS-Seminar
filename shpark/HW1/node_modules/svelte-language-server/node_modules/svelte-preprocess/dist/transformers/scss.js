"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const getIncludePaths_1=require("../modules/getIncludePaths"),importAny_1=require("../modules/importAny");let sass;function getResultForResolve(a){var b;return{code:a.css.toString(),map:null===(b=a.map)||void 0===b?void 0:b.toString(),dependencies:a.stats.includedFiles}}const transformer=async({content:a,filename:b,options:c={}})=>{var d;let e=null!==(d=null===c||void 0===c?void 0:c.implementation)&&void 0!==d?d:sass;if(null==e){const a=await importAny_1.importAny("node-sass","sass");e=sass=a.default}const{renderSync:f,...g}={sourceMap:!0,...c,includePaths:getIncludePaths_1.getIncludePaths(b,c.includePaths),outFile:`${b}.css`};return g.data=c.data?c.data+a:a,0===g.data.length?{code:""}:f?getResultForResolve(e.renderSync(g)):new Promise((a,b)=>{e.render(g,(c,d)=>c?b(c):void a(getResultForResolve(d)))})};exports.default=transformer;