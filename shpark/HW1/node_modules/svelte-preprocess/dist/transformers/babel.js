"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformer = void 0;
const core_1 = require("@babel/core");
const transformer = async ({ content, filename, options, map = undefined, }) => {
    const { code, map: sourcemap } = await core_1.transformAsync(content, {
        ...options,
        inputSourceMap: map,
        sourceType: 'module',
        // istanbul ignore next
        sourceMaps: !!options.sourceMaps,
        filename,
        minified: false,
        ast: false,
        code: true,
    });
    return {
        code,
        map: sourcemap,
    };
};
exports.transformer = transformer;
